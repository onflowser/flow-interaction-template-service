{
    "f_type": "InteractionTemplate",
    "f_version": "1.0.0",
    "id": "74d066dda12875ee83b28ee8eba842d37b37ff7bd6fd79a7c48eb52cfa16cbff",
    "data": {
        "type": "InteractionTemplate",
        "interface": "",
        "messages": {
            "title": {
                "i18n": {
                    "en-US": "BloctoSwap Swap fusd for exact blocto token"
                }
            },
            "description": {
                "i18n": {
                    "en-US": "Swap at most {maxAmountIn} FUSD for {amountOut} BLT",
                    "zh-CN": "将最多 {maxAmountIn} FUSD 兑换成 {amountOut} BLT",
                    "zh-TW": "將最多 {maxAmountIn} FUSD 兌換成 {amountOut} BLT"
                }
            }
        },
        "cadence": "import FungibleToken from 0xFUNGIBLE_TOKEN_ADDRESS\nimport FUSD from 0xFUSD_ADDRESS\nimport BloctoToken from 0xBLOCTO_TOKEN_ADDRESS\nimport FusdUsdtSwapPair from 0xFUSD_USDT_SWAP_ADDRESS\nimport BltUsdtSwapPair from 0xBLT_USDT_SWAP_PAIR_ADDRESS\n\ntransaction(maxAmountIn: UFix64, amountOut: UFix64) {\n  prepare(signer: AuthAccount) {\n    let amount0 = BltUsdtSwapPair.quoteSwapToken2ForExactToken1(amount: amountOut) / (1.0 - BltUsdtSwapPair.getFeePercentage())\nlet amountIn = FusdUsdtSwapPair.quoteSwapToken1ForExactToken2(amount: amount0) / (1.0 - FusdUsdtSwapPair.getFeePercentage())\n    assert(amountIn <= maxAmountIn, message: \"Input amount too large\")\n\n    let fusdVault = signer.borrow<&FUSD.Vault>(from: /storage/fusdVault) \n      ?? panic(\"Could not borrow a reference to Vault\")\n\n    let token0Vault <- fusdVault.withdraw(amount: amountIn) as! @FUSD.Vault\n    let token1Vault <- FusdUsdtSwapPair.swapToken1ForToken2(from: <- token0Vault)\nlet token2Vault <- BltUsdtSwapPair.swapToken2ForToken1(from: <- token1Vault)\n\n      if signer.borrow<&BloctoToken.Vault>(from: /storage/bloctoTokenVault) == nil {\n    signer.save(<-BloctoToken.createEmptyVault(), to: /storage/bloctoTokenVault)\n    signer.link<&BloctoToken.Vault{FungibleToken.Receiver}>(\n      /public/bloctoTokenReceiver,\n      target: /storage/bloctoTokenVault\n    )\n    signer.link<&BloctoToken.Vault{FungibleToken.Balance}>(\n      /public/bloctoTokenBalance,\n      target: /storage/bloctoTokenVault\n    )\n  }\n    let bloctoTokenVault = signer.borrow<&BloctoToken.Vault>(from: /storage/bloctoTokenVault) \n      ?? panic(\"Could not borrow a reference to Vault\")\n\n    \n\n    bloctoTokenVault.deposit(from: <- token2Vault)\n  }\n}",
        "dependencies": {
            "0xFUNGIBLE_TOKEN_ADDRESS": {
                "FungibleToken": {
                    "testnet": {
                        "address": "0x9a0766d93b6608b7",
                        "contract": "FungibleToken",
                        "fq_address": "A.0x9a0766d93b6608b7.FungibleToken",
                        "pin": "83c9e3d61d3b5ebf24356a9f17b5b57b12d6d56547abc73e05f820a0ae7d9cf5",
                        "pin_block_height": 139076176
                    }
                }
            },
            "0xFUSD_ADDRESS": {
                "FUSD": {
                    "testnet": {
                        "address": "0xe223d8a629e49c68",
                        "contract": "FUSD",
                        "fq_address": "A.0xe223d8a629e49c68.FUSD",
                        "pin": "0326c320322c4e8dde768ba2975c384184fb7e41765c2c87e79a2040bfc71be8",
                        "pin_block_height": 139076186
                    }
                }
            },
            "0xBLOCTO_TOKEN_ADDRESS": {
                "BloctoToken": {
                    "testnet": {
                        "address": "0x6e0797ac987005f5",
                        "contract": "BloctoToken",
                        "fq_address": "A.0x6e0797ac987005f5.BloctoToken",
                        "pin": "0326c320322c4e8dde768ba2975c384184fb7e41765c2c87e79a2040bfc71be8",
                        "pin_block_height": 139076197
                    }
                }
            },
            "0xFUSD_USDT_SWAP_ADDRESS": {
                "FusdUsdtSwapPair": {
                    "testnet": {
                        "address": "0x3502a5dacaf350bb",
                        "contract": "FusdUsdtSwapPair",
                        "fq_address": "A.0x3502a5dacaf350bb.FusdUsdtSwapPair",
                        "pin": "9524cc8b5eb8bb8f7d8cf4ee3c65374cafa55921d31d6f72ce08d1c4da8aad57",
                        "pin_block_height": 139076229
                    }
                }
            },
            "0xBLT_USDT_SWAP_PAIR_ADDRESS": {
                "BltUsdtSwapPair": {
                    "testnet": {
                        "address": "0xc59604d4e65f14b3",
                        "contract": "BltUsdtSwapPair",
                        "fq_address": "A.0xc59604d4e65f14b3.BltUsdtSwapPair",
                        "pin": "9524cc8b5eb8bb8f7d8cf4ee3c65374cafa55921d31d6f72ce08d1c4da8aad57",
                        "pin_block_height": 139076264
                    }
                }
            }
        },
        "arguments": {
            "maxAmountIn": {
                "index": 0,
                "type": "UFix64",
                "messages": {}
            },
            "amountOut": {
                "index": 1,
                "type": "UFix64",
                "messages": {}
            }
        }
    }
}